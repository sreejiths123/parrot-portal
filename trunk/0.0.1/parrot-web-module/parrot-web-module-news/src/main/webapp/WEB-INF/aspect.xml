<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd 
  http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.0.xsd"
   xmlns:aop="http://www.springframework.org/schema/aop"
>

	<bean id="controllerAspect" class="com.parrot.portal.controller.aop.ControllerAspect" />

	<!--aop:aspectj-autoproxy /-->
	
	<bean id="proxyFactoryBean" class="org.springframework.aop.framework.ProxyFactoryBean" abstract="true" >
		<!--property name="proxyTargetClass" value="true" /-->
	</bean>
	
	<aop:config>
 
		 <aop:pointcut id="handleRequestInternalPointcut" expression="execution(* com.parrot.portal.controller..handleRequestInternal(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)) and args(request,response)" />
		 
		<aop:aspect id="secureControllerAspect" ref="controllerAspect">
			<aop:before pointcut-ref="handleRequestInternalPointcut" method="interceptHandleRequestInternal" />
		</aop:aspect>
	</aop:config>
</beans>